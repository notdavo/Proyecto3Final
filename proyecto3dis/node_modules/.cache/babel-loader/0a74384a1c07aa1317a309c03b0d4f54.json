{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Davo\\\\Desktop\\\\proyecto3dis\\\\src\\\\Components\\\\PlantaFolder\\\\CreatePlanta.jsx\";\nimport \"./CreatePlanta.css\";\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { Link } from \"react-router-dom\";\nimport Button from \"react-bootstrap/Button\";\nimport Modal from 'react-bootstrap/Modal';\nimport Container from \"react-bootstrap/Container\";\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport Image from \"react-bootstrap/Image\";\n\nfunction CreatePlanta() {\n  const [sucursales, setSucursales] = useState([]);\n  const [productos, setProductos] = useState([]);\n  const [categorias, setCategorias] = useState([]);\n  const [nombreProducto, setNombreProducto] = useState('');\n  const [categoriaProducto, setCategoriaProducto] = useState('');\n  const [sucursal, setSucursal] = useState(1);\n\n  function setearSucursal(evento) {\n    var indexSeleccionado = evento.target.selectedIndex;\n    var idSucrusal = evento.target[indexSeleccionado].value;\n    localStorage.setItem('sucursalSeleccionada', idSucrusal);\n    setSucursal(localStorage.getItem('sucursalSeleccionada'));\n    console.log(localStorage.getItem('sucursalSeleccionada'));\n  }\n\n  function setearCategoria(evento) {\n    var indexSeleccionado = evento.target.selectedIndex;\n    var nombreCategoriaSeleccionada = evento.target[indexSeleccionado].value;\n    setCategoriaProducto(nombreCategoriaSeleccionada);\n  }\n\n  useEffect(() => {\n    (async () => {\n      const res = await axios.get(`http://localhost:8000/api/Sucursal`, {});\n      setSucursales(res.data[0]);\n      localStorage.setItem('sucursalSeleccionada', res.data[0][0].idUsuario);\n    })();\n  }, []);\n  useEffect(() => {\n    (async () => {\n      console.log(\"SUCURSAL\", sucursal);\n\n      if (sucursal == 1) {\n        const res = await axios.post(`http://localhost:8003/api/ConsultaInventario`, {\n          filterOn: '1',\n          nombreProducto: nombreProducto,\n          nombreCategoriaProducto: categoriaProducto\n        });\n\n        if (res.data[0].length != 0) {\n          setProductos(res.data[0]);\n        } else {\n          setProductos([]);\n        }\n      } else if (sucursal == 2) {\n        const res = await axios.post(`http://localhost:8003/api/ConsultaInventarioLimon`, {\n          filterOn: '1',\n          nombreProducto: nombreProducto,\n          nombreCategoriaProducto: categoriaProducto\n        });\n\n        if (res.data[0].length != 0) {\n          setProductos(res.data[0]);\n        } else {\n          setProductos([]);\n        }\n      }\n    })();\n  }, [nombreProducto, categoriaProducto, sucursal]);\n  useEffect(() => {\n    (async () => {\n      const res = await axios.get(`http://localhost:8000/api/Categorias`, {});\n      setCategorias(res.data[0]);\n    })();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Corporativo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"topBarCorporativo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    id: \"bot\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, \"Cerrar Sesion\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"marco\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/InventarioSucursal`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, \"Inventario Sucursal\")), /*#__PURE__*/React.createElement(Link, {\n    to: `/FacturadoSucursal`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }, \"Facturado Por sucursal\")), /*#__PURE__*/React.createElement(Link, {\n    to: `/FacturadoConsolidado`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }, \"Facturado Consolidado\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"contenedor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"marco3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, \"Sucursal\"), /*#__PURE__*/React.createElement(\"select\", {\n    onChange: setearSucursal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }, sucursales.map(sucursal => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      value: `${sucursal.idSucursal}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 25\n      }\n    }, `${sucursal.nombreSucursal} - ${sucursal.idSucursal}`);\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 21\n    }\n  }, \"Producto\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: nombreProducto,\n    onChange: e => setNombreProducto(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 17\n    }\n  }, \"Categor\\xEDa\"), /*#__PURE__*/React.createElement(\"select\", {\n    onChange: setearCategoria,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 17\n    }\n  }, \"Todo\"), categorias.map(categoria => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      value: `${categoria.nombreCategoria}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 25\n      }\n    }, `${categoria.nombreCategoria}`);\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"marco2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"marco4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    id: \"productos\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 33\n    }\n  }, \"Producto\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 33\n    }\n  }, \"Categoria\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 33\n    }\n  }, \"Sucursal\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 33\n    }\n  }, \"Cantidad\"))), productos.map(producto => /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 37\n    }\n  }, producto.Nombre_Producto), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 37\n    }\n  }, producto.Categoria), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 37\n    }\n  }, producto.Sucursal), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 37\n    }\n  }, producto.Cantidad)))))))));\n}\n\nexport default CreatePlanta;","map":{"version":3,"sources":["C:/Users/Davo/Desktop/proyecto3dis/src/Components/PlantaFolder/CreatePlanta.jsx"],"names":["axios","React","useEffect","useState","Link","Button","Modal","Container","Col","Row","Image","CreatePlanta","sucursales","setSucursales","productos","setProductos","categorias","setCategorias","nombreProducto","setNombreProducto","categoriaProducto","setCategoriaProducto","sucursal","setSucursal","setearSucursal","evento","indexSeleccionado","target","selectedIndex","idSucrusal","value","localStorage","setItem","getItem","console","log","setearCategoria","nombreCategoriaSeleccionada","res","get","data","idUsuario","post","filterOn","nombreCategoriaProducto","length","map","idSucursal","nombreSucursal","e","categoria","nombreCategoria","producto","Nombre_Producto","Categoria","Sucursal","Cantidad"],"mappings":";AAAA,OAAO,oBAAP;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SACIC,IADJ,QAES,kBAFT;AAGA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,KAAP,MAAkB,uBAAlB;AACA,OAAOC,SAAP,MAAsB,2BAAtB;AACA,OAAOC,GAAP,MAAgB,qBAAhB;AACA,OAAOC,GAAP,MAAgB,qBAAhB;AACA,OAAOC,KAAP,MAAkB,uBAAlB;;AAEA,SAASC,YAAT,GAAwB;AACpB,QAAM,CAACC,UAAD,EAAeC,aAAf,IAAgCV,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM,CAACW,SAAD,EAAcC,YAAd,IAA8BZ,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACa,UAAD,EAAeC,aAAf,IAAgCd,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM,CAACe,cAAD,EAAmBC,iBAAnB,IAAwChB,QAAQ,CAAC,EAAD,CAAtD;AACA,QAAM,CAACiB,iBAAD,EAAsBC,oBAAtB,IAA8ClB,QAAQ,CAAC,EAAD,CAA5D;AACA,QAAM,CAACmB,QAAD,EAAaC,WAAb,IAA4BpB,QAAQ,CAAC,CAAD,CAA1C;;AAEA,WAASqB,cAAT,CAAwBC,MAAxB,EAAgC;AAC9B,QAAIC,iBAAiB,GAAGD,MAAM,CAACE,MAAP,CAAcC,aAAtC;AACA,QAAIC,UAAU,GAAGJ,MAAM,CAACE,MAAP,CAAcD,iBAAd,EAAiCI,KAAlD;AACAC,IAAAA,YAAY,CAACC,OAAb,CAAqB,sBAArB,EAA6CH,UAA7C;AACAN,IAAAA,WAAW,CAACQ,YAAY,CAACE,OAAb,CAAqB,sBAArB,CAAD,CAAX;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYJ,YAAY,CAACE,OAAb,CAAqB,sBAArB,CAAZ;AACD;;AAGD,WAASG,eAAT,CAAyBX,MAAzB,EAAiC;AAC7B,QAAIC,iBAAiB,GAAGD,MAAM,CAACE,MAAP,CAAcC,aAAtC;AACA,QAAIS,2BAA2B,GAAGZ,MAAM,CAACE,MAAP,CAAcD,iBAAd,EAAiCI,KAAnE;AACAT,IAAAA,oBAAoB,CAACgB,2BAAD,CAApB;AACH;;AAEDnC,EAAAA,SAAS,CAAC,MAAM;AACZ,KAAC,YAAY;AACT,YAAMoC,GAAG,GAAG,MAAMtC,KAAK,CAACuC,GAAN,CAAW,oCAAX,EAAgD,EAAhD,CAAlB;AACA1B,MAAAA,aAAa,CAACyB,GAAG,CAACE,IAAJ,CAAS,CAAT,CAAD,CAAb;AACAT,MAAAA,YAAY,CAACC,OAAb,CAAqB,sBAArB,EAA6CM,GAAG,CAACE,IAAJ,CAAS,CAAT,EAAY,CAAZ,EAAeC,SAA5D;AACH,KAJD;AAKH,GANQ,EAMP,EANO,CAAT;AAQAvC,EAAAA,SAAS,CAAC,MAAM;AACZ,KAAC,YAAY;AACXgC,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBb,QAAxB;;AACA,UAAGA,QAAQ,IAAI,CAAf,EAAiB;AACf,cAAMgB,GAAG,GAAG,MAAMtC,KAAK,CAAC0C,IAAN,CAAY,8CAAZ,EAA2D;AACvEC,UAAAA,QAAQ,EAAE,GAD6D;AAEvEzB,UAAAA,cAAc,EAAEA,cAFuD;AAGvE0B,UAAAA,uBAAuB,EAAExB;AAH8C,SAA3D,CAAlB;;AAKA,YAAGkB,GAAG,CAACE,IAAJ,CAAS,CAAT,EAAYK,MAAZ,IAAsB,CAAzB,EAA2B;AACzB9B,UAAAA,YAAY,CAACuB,GAAG,CAACE,IAAJ,CAAS,CAAT,CAAD,CAAZ;AACD,SAFD,MAEK;AACHzB,UAAAA,YAAY,CAAC,EAAD,CAAZ;AACD;AACF,OAXD,MAWM,IAAGO,QAAQ,IAAI,CAAf,EAAiB;AACrB,cAAMgB,GAAG,GAAG,MAAMtC,KAAK,CAAC0C,IAAN,CAAY,mDAAZ,EAAgE;AAC5EC,UAAAA,QAAQ,EAAE,GADkE;AAE5EzB,UAAAA,cAAc,EAAEA,cAF4D;AAG5E0B,UAAAA,uBAAuB,EAAExB;AAHmD,SAAhE,CAAlB;;AAKA,YAAGkB,GAAG,CAACE,IAAJ,CAAS,CAAT,EAAYK,MAAZ,IAAsB,CAAzB,EAA2B;AACzB9B,UAAAA,YAAY,CAACuB,GAAG,CAACE,IAAJ,CAAS,CAAT,CAAD,CAAZ;AACD,SAFD,MAEK;AACHzB,UAAAA,YAAY,CAAC,EAAD,CAAZ;AACD;AACF;AACF,KAzBD;AA0BH,GA3BQ,EA2BP,CAACG,cAAD,EAAiBE,iBAAjB,EAAmCE,QAAnC,CA3BO,CAAT;AA6BApB,EAAAA,SAAS,CAAC,MAAM;AACZ,KAAC,YAAY;AACT,YAAMoC,GAAG,GAAG,MAAMtC,KAAK,CAACuC,GAAN,CAAW,sCAAX,EAAkD,EAAlD,CAAlB;AACAtB,MAAAA,aAAa,CAACqB,GAAG,CAACE,IAAJ,CAAS,CAAT,CAAD,CAAb;AACH,KAHD;AAIH,GALQ,EAKP,EALO,CAAT;AAOF,sBACE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAE,GAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAQ,IAAA,EAAE,EAAC,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ,CADJ,CADJ,eAMI;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAG,qBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADJ,CADJ,eAII,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAG,oBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADJ,CAJJ,eAOI,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAG,uBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADJ,CAPJ,CANJ,eAiBI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAII;AAAQ,IAAA,QAAQ,EAAEhB,cAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEIZ,UAAU,CAACkC,GAAX,CAAgBxB,QAAD,IAAc;AAC7B,wBACI;AAAQ,MAAA,KAAK,EAAG,GAAEA,QAAQ,CAACyB,UAAW,EAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA2C,GAAEzB,QAAQ,CAAC0B,cAAe,MAAK1B,QAAQ,CAACyB,UAAW,EAA9F,CADJ;AAGC,GAJD,CAFJ,CAJJ,eAaI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AACI,IAAA,IAAI,EAAC,MADT;AAEI,IAAA,KAAK,EAAE7B,cAFX;AAGI,IAAA,QAAQ,EAAE+B,CAAC,IAAI9B,iBAAiB,CAAC8B,CAAC,CAACtB,MAAF,CAASG,KAAV,CAHpC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CAbJ,eAqBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBArBJ,eAwBI;AAAQ,IAAA,QAAQ,EAAEM,eAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAQ,IAAA,KAAK,EAAE,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADA,EAGIpB,UAAU,CAAC8B,GAAX,CAAgBI,SAAD,IAAe;AAC9B,wBACI;AAAQ,MAAA,KAAK,EAAG,GAAEA,SAAS,CAACC,eAAgB,EAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAiD,GAAED,SAAS,CAACC,eAAgB,EAA7E,CADJ;AAGC,GAJD,CAHJ,CAxBJ,CADJ,eAoCI;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,EAAE,EAAC,WAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJJ,CADJ,CADJ,EAUIrC,SAAS,CAACgC,GAAV,CAAcM,QAAQ,iBAClB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKA,QAAQ,CAACC,eAAd,CADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKD,QAAQ,CAACE,SAAd,CAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKF,QAAQ,CAACG,QAAd,CAHJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKH,QAAQ,CAACI,QAAd,CAJJ,CADJ,CADJ,CAVJ,CADJ,CADJ,CApCJ,CAjBJ,CADF;AAmFD;;AAED,eAAe7C,YAAf","sourcesContent":["import \"./CreatePlanta.css\";\r\nimport axios from 'axios';\r\nimport React, { useEffect, useState,} from 'react';\r\nimport {\r\n    Link\r\n  } from \"react-router-dom\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Image from \"react-bootstrap/Image\";\r\n\r\nfunction CreatePlanta() {\r\n    const [sucursales  , setSucursales] = useState([]);\r\n    const [productos  , setProductos] = useState([]);\r\n    const [categorias  , setCategorias] = useState([]);\r\n    const [nombreProducto  , setNombreProducto] = useState('');\r\n    const [categoriaProducto  , setCategoriaProducto] = useState('');\r\n    const [sucursal  , setSucursal] = useState(1);\r\n    \r\n    function setearSucursal(evento) {\r\n      var indexSeleccionado = evento.target.selectedIndex;\r\n      var idSucrusal = evento.target[indexSeleccionado].value;\r\n      localStorage.setItem('sucursalSeleccionada', idSucrusal);\r\n      setSucursal(localStorage.getItem('sucursalSeleccionada'));\r\n      console.log(localStorage.getItem('sucursalSeleccionada'));\r\n    }\r\n  \r\n    \r\n    function setearCategoria(evento) {\r\n        var indexSeleccionado = evento.target.selectedIndex;\r\n        var nombreCategoriaSeleccionada = evento.target[indexSeleccionado].value;\r\n        setCategoriaProducto(nombreCategoriaSeleccionada);\r\n    }\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            const res = await axios.get(`http://localhost:8000/api/Sucursal`, { });\r\n            setSucursales(res.data[0]);\r\n            localStorage.setItem('sucursalSeleccionada', res.data[0][0].idUsuario);\r\n        })()\r\n    },[])\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n          console.log(\"SUCURSAL\", sucursal);\r\n          if(sucursal == 1){\r\n            const res = await axios.post(`http://localhost:8003/api/ConsultaInventario`, {\r\n                  filterOn: '1',\r\n                  nombreProducto: nombreProducto,\r\n                  nombreCategoriaProducto: categoriaProducto\r\n            });\r\n            if(res.data[0].length != 0){\r\n              setProductos(res.data[0]);\r\n            }else{\r\n              setProductos([]);\r\n            }\r\n          }else if(sucursal == 2){\r\n            const res = await axios.post(`http://localhost:8003/api/ConsultaInventarioLimon`, {\r\n                  filterOn: '1',\r\n                  nombreProducto: nombreProducto,\r\n                  nombreCategoriaProducto: categoriaProducto\r\n            });\r\n            if(res.data[0].length != 0){\r\n              setProductos(res.data[0]);\r\n            }else{\r\n              setProductos([]);\r\n            }\r\n          }\r\n        })()\r\n    },[nombreProducto, categoriaProducto,sucursal])\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            const res = await axios.get(`http://localhost:8000/api/Categorias`, { });\r\n            setCategorias(res.data[0]);\r\n        })()\r\n    },[])\r\n\r\n  return (\r\n    <div className=\"Corporativo\">\r\n        <div className=\"topBarCorporativo\">\r\n            <Link to= \"/\">\r\n                <button id=\"bot\">Cerrar Sesion</button>\r\n            </Link>\r\n        </div>\r\n        <div className=\"marco\">\r\n            <Link to={`/InventarioSucursal`}>\r\n                <button>Inventario Sucursal</button>\r\n            </Link>\r\n            <Link to={`/FacturadoSucursal`}>\r\n                <button>Facturado Por sucursal</button>\r\n            </Link>\r\n            <Link to={`/FacturadoConsolidado`}>\r\n                <button>Facturado Consolidado</button>\r\n            </Link>\r\n        </div>\r\n        <div className=\"contenedor\">\r\n            <div className=\"marco3\">\r\n                <p>\r\n                Sucursal\r\n                </p>\r\n                <select onChange={setearSucursal}>\r\n                {\r\n                    sucursales.map((sucursal) => {\r\n                    return (\r\n                        <option value={`${sucursal.idSucursal}`}>{`${sucursal.nombreSucursal} - ${sucursal.idSucursal}`}</option>\r\n                    )\r\n                    })\r\n                }\r\n                </select>\r\n                <label>\r\n                    <p>Producto</p>\r\n                    <input \r\n                        type=\"text\"\r\n                        value={nombreProducto}\r\n                        onChange={e => setNombreProducto(e.target.value)}\r\n                    />\r\n                </label>\r\n                <p>\r\n                Categoría\r\n                </p>\r\n                <select onChange={setearCategoria}>\r\n                <option value={\"\"}>Todo</option>\r\n                {\r\n                    categorias.map((categoria) => {\r\n                    return (\r\n                        <option value={`${categoria.nombreCategoria}`}>{`${categoria.nombreCategoria}`}</option>\r\n                    )\r\n                    })\r\n                }\r\n                </select>\r\n            </div>\r\n            <div className=\"marco2\">\r\n                <div className=\"marco4\">\r\n                    <table id=\"productos\"> \r\n                        <thead >\r\n                            <tr>\r\n                                <th>Producto</th>\r\n                                <th>Categoria</th>\r\n                                <th>Sucursal</th>\r\n                                <th>Cantidad</th>\r\n                            </tr>\r\n                        </thead>\r\n                        { \r\n                        productos.map(producto => (\r\n                            <tbody>                       \r\n                                <tr>\r\n                                    <td>{producto.Nombre_Producto}</td>\r\n                                    <td>{producto.Categoria}</td>\r\n                                    <td>{producto.Sucursal}</td>\r\n                                    <td>{producto.Cantidad}</td>\r\n                                </tr>\r\n                            </tbody>  \r\n                            ))\r\n                        } \r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CreatePlanta;"]},"metadata":{},"sourceType":"module"}